(this["webpackJsonpteam-builder"]=this["webpackJsonpteam-builder"]||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/avatar.27b9408d.png"},34:function(e,t,a){e.exports=a(48)},43:function(e,t,a){},44:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),c=a(11),i=a(7),l=a(14),u=a(31),m=a(32),p=(a(43),a(3)),d=a(4),f=a(6),h=a(5),v=a(2),E=(a(44),a(16)),g=a.n(E);function C(e){return{type:"DATA_IS_LOADING",isLoading:e}}function b(e){return function(t){fetch(e,{headers:{token:localStorage.getItem("userToken")}}).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"PROJECTS_FETCH_DATA_SUCCESS",projects:e}}(e))}))}}var N="https://picsart-bootcamp-2020-api.herokuapp.com/api/v1/",y=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1,avatar:JSON.parse(localStorage.getItem("user")).avatarUrl},e.toggleModal=function(){e.setState({isModalOpen:!e.state.isModalOpen})},e.logout=function(){return e.props.logout(),e.props.history.push("/login")},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"HeaderWrapper"},r.a.createElement("header",null,r.a.createElement("div",{className:"HeaderLinksContainer"},r.a.createElement(c.b,{className:"HeaderLinks",to:"/"},"Home"),r.a.createElement(c.b,{className:"HeaderLinks",to:"/topics"},"Topics"),r.a.createElement(c.b,{className:"HeaderLinks",to:"/projects"},"Projects")),r.a.createElement("div",{className:"LogoutButtonContainer FlexCenter"},r.a.createElement("button",{onClick:this.logout,className:"LogoutButton",to:"/login"},"Logout")),r.a.createElement("div",{className:"AvatarHeaderContainer FlexCenter"},r.a.createElement(c.b,{to:"/account"},r.a.createElement("img",{className:"AvatarHeader",src:this.state.avatar||g.a})))))}}]),a}(r.a.Component),I=Object(i.b)((function(e){return{user:e.userLogin}}),(function(e){return{logout:function(){return e((t="".concat(N,"users/logout"),function(e){fetch(t,{headers:{token:localStorage.getItem("userToken"),"Content-Type":"application/json"},method:"GET"}),e({type:"USER_LOGOUT"})}));var t}}}))(Object(v.g)(y)),j="".concat(N,"teams"),O=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={teams:[{id:1,name:"Editor",topic:"Hooks",project:"Canvas",members:[{firstName:"Name",lastName:"Lname",avatarUrl:""},{firstName:"Name",lastName:"Lname",avatarUrl:""},{firstName:"Name",lastName:"Lname",avatarUrl:""},{firstName:"Name",lastName:"Lname",avatarUrl:""}]}]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchTeams(j)}},{key:"render",value:function(){return console.log(this.props.teams),r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"TeamsContainer"},this.state.teams.map((function(e,t){return r.a.createElement("div",{key:t,className:"TeamContainer"},r.a.createElement("span",{className:"TeamName"},e.name),r.a.createElement("span",{className:"TeamTopic"}," Topic: ",e.topic),r.a.createElement("span",{className:"TeamProject"},"Project: ",e.project),r.a.createElement("div",{className:"MembersContainer"},e.members.map((function(e,t){return r.a.createElement("div",{key:t,className:"MemberContainer"},r.a.createElement("img",{src:e.avatarUrl||g.a,className:"TeamMemberAvatar"}),r.a.createElement("span",{className:"TeamMemberNameContainer"},e.firstName," ",e.lastName))}))))}))))}}]),a}(r.a.Component),T=Object(i.b)((function(e){return{teams:e.teams}}),(function(e){return{fetchTeams:function(t){return e((a=t,function(e){fetch(a,{headers:{token:localStorage.getItem("userToken")}}).then((function(e){return e})).then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"TEAMS_FETCH_DATA_SUCCESS",teams:e}}(t))}))}));var a}}}))(O),S=a(21),k=a.n(S),U=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={value:e.props.value,error:!1},e.onChange=function(t){var a=e.props.name,n=t.target.value,r=!!e.props.validate&&e.props.validate(n);e.setState({value:n,error:r}),e.props.onChange({name:a,value:n,error:r})},e.renderInput=function(){switch(e.props.type){case"password":return r.a.createElement("div",null,r.a.createElement("input",{placeholder:e.props.placeholder,value:e.state.value,onChange:e.onChange,type:"password"}),r.a.createElement("div",{className:"ErrorMessageContainer"},r.a.createElement("span",{className:"ErrorMessage"},e.state.error)));case"checkbox":return r.a.createElement("div",{className:"CheckboxWrapper"},r.a.createElement("input",{value:e.state.value,onChange:e.onChange,type:"checkbox"}),r.a.createElement("label",null,e.props.label));case"radio":return r.a.createElement("div",null,r.a.createElement("input",{name:e.props.name,value:e.state.value,onChange:function(t){return e.props.onGenderSelect(t)},type:"radio",checked:e.props.isSelected}),r.a.createElement("label",null,e.props.label));case"date":return r.a.createElement("div",null,r.a.createElement("input",{type:"date",placeholder:e.props.placeholder,value:e.state.value,onChange:e.onChange}),r.a.createElement("div",{className:"ErrorMessageContainer"},r.a.createElement("span",{className:"ErrorMessage"},e.state.error)));case"number":return r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:e.props.placeholder,value:e.state.value,onChange:e.onChange}),r.a.createElement("div",{className:"ErrorMessageContainer"},r.a.createElement("span",{className:"ErrorMessage"},e.state.error)));default:return r.a.createElement("div",null,r.a.createElement("input",{className:"FormTextInput",placeholder:e.props.placeholder,value:e.state.value,onChange:e.onChange}),r.a.createElement("div",{className:"ErrorMessageContainer"},r.a.createElement("span",{className:"ErrorMessage"},e.state.error)))}},e}return Object(d.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"InputContainer"},this.renderInput())}}]),a}(r.a.Component),L="".concat(N,"users/login"),A=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={fields:{email:"",password:"",rememberMe:""},fieldErrors:{}},e.onLoginSubmit=function(t){if(t.preventDefault(),!e.validate()){var a=JSON.stringify({email:e.state.fields.email,password:e.state.fields.password});fetch(L,{headers:{"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){return e.json()})).then((function(t){return e.props.userLogin(t)})).then((function(){return e.props.history.push("/")}))}},e.onInputChange=function(t){var a=t.name,n=t.value,r=t.error,o=e.state.fields,s=e.state.fieldErrors;o[a]=n,s[a]=r,e.setState({fields:o,fieldErrors:s})},e.validate=function(){var t=e.state,a=t.fields,n=t.fieldErrors,r=Object.keys(n).filter((function(e){return n[e]}));return!a.email||(!a.password||!!r.length)},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"FlexCenter"},r.a.createElement("div",{className:"LoginContainer"},r.a.createElement("h3",null,"Login"),r.a.createElement("form",{onSubmit:this.onLoginSubmit},r.a.createElement(U,{placeholder:"Email",name:"email",value:this.state.fields.email,onChange:this.onInputChange,validate:function(e){return!k()(e)&&"Invalid Email"}}),r.a.createElement(U,{placeholder:"password",name:"password",type:"password",value:this.state.fields.password,onChange:this.onInputChange,validate:function(e){return!e&&"Password Required"}}),r.a.createElement(U,{name:"rememberMe",type:"checkbox",value:this.state.fields.rememberMe,onChange:this.onInputChange,label:"Remember Me"}),r.a.createElement("input",{className:"LoginSubmit",type:"submit",disabled:this.validate(),value:"Submit"})),r.a.createElement("span",{className:"NotAMember"},"Not a member? ",r.a.createElement(c.b,{to:"/registration"},"Register"))))}}]),a}(r.a.Component),x=Object(i.b)(null,(function(e){return{userLogin:function(t){return e(function(e){return{type:"USER_LOGIN_SUCCESS",user:e}}(t))}}}))(Object(v.g)(A)),_=a(13),w="".concat(N,"users/register"),P=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={fields:{email:"",password:"",firstName:"",lastName:"",birthDate:"",sex:{selected:"male",options:["male","female"]},avatarUrl:"",jsExperience:0,reactExperience:0,companyId:1},fieldErrors:{}},e.onFormSubmit=function(t){if(t.preventDefault(),!e.validate()){console.log("Validation was passed!");var a=JSON.stringify(Object(_.a)(Object(_.a)({},e.state.fields),{},{jsExperience:+e.state.fields.jsExperience,reactExperience:+e.state.fields.reactExperience,sex:e.state.fields.sex.selected}));console.log(typeof e.state.fields.companyId,a),fetch(w,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:a}).then((function(t){return e.props.history.push("/login")}))}},e.onInputChange=function(t){var a=t.name,n=t.value,r=t.error,o=e.state.fields,s=e.state.fieldErrors;o[a]=n,s[a]=r,e.setState({fields:o,fieldErrors:s})},e.onGenderSelect=function(t){t.persist(),e.setState((function(e){return{fields:Object(_.a)(Object(_.a)({},e.fields),{},{sex:Object(_.a)(Object(_.a)({},e.fields.sex),{},{selected:t.target.value})})}}))},e.validate=function(){var t=e.state,a=t.fields,n=t.fieldErrors,r=Object.keys(n).filter((function(e){return n[e]}));return!a.firstName||(!a.lastName||(!a.birthDate||(a.jsExperience<0||(a.reactExperience<0||(a.companyId<0||(!a.email||(!a.password||!!r.length)))))))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"FlexCenter"},r.a.createElement("div",{className:"RegistrationContainer"},r.a.createElement("h3",null,"Registration"),r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement(U,{placeholder:"First name",name:"firstName",value:this.state.fields.firstName,onChange:this.onInputChange,validate:function(e){return!e&&"First Name Required"}}),r.a.createElement(U,{placeholder:"Last name",name:"lastName",value:this.state.fields.lastName,onChange:this.onInputChange,validate:function(e){return!e&&"Last Name Required"}}),r.a.createElement(U,{placeholder:"Birth Date",name:"birthDate",type:"date",value:this.state.fields.birthDate,onChange:this.onInputChange,validate:function(e){return!e&&"Birth Date Required"}}),r.a.createElement("div",{className:"SexContainer"},r.a.createElement("span",null,"Sex"),this.state.fields.sex.options.map((function(t,a){return r.a.createElement(U,{key:a,type:"radio",name:"sex",label:t,value:t,onGenderSelect:e.onGenderSelect,isSelected:e.state.fields.sex.selected===t})}))),r.a.createElement(U,{placeholder:"Avatar URL",name:"avatarUrl",value:this.state.fields.avatarUrl,onChange:this.onInputChange}),r.a.createElement(U,{placeholder:"JS Experience",name:"jsExperience",type:"number",value:this.state.fields.jsExperience,onChange:this.onInputChange,validate:function(e){return!e&&"No negative numbers"}}),r.a.createElement(U,{placeholder:"React Experience",name:"reactExperience",type:"number",value:this.state.fields.reactExperience,onChange:this.onInputChange}),r.a.createElement(U,{placeholder:"company ID",name:"companyId",type:"number",value:this.state.fields.companyId,onChange:this.onInputChange}),r.a.createElement(U,{placeholder:"Email",name:"email",value:this.state.fields.email,onChange:this.onInputChange,validate:function(e){return!k()(e)&&"Invalid Email"}}),r.a.createElement(U,{placeholder:"password",name:"password",type:"password",value:this.state.fields.password,onChange:this.onInputChange,validate:function(e){return!e&&"Password Required"}}),r.a.createElement("span",{className:"AllFieldWarning"},"Please fill all fields"),r.a.createElement("input",{className:"RegistrationSubmit",type:"submit",disabled:this.validate(),value:"Submit"}))))}}]),a}(r.a.Component),D=Object(v.g)(P),B=a(18),M="".concat(N,"users/update"),R=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:JSON.parse(localStorage.getItem("user")),fields:Object(_.a)({},JSON.parse(localStorage.getItem("user"))),fieldErrors:{}},e.submitChanges=function(t){e.props.updateAccount(M,Object(B.a)({},t,e.state.fields[t]));var a=JSON.stringify(Object(_.a)(Object(_.a)({},e.state.user),{},Object(B.a)({},t,e.state.fields[t])));localStorage.setItem("user",a)},e.onInputChange=function(t){var a=t.name,n=t.value,r=t.error,o=e.state.fields,s=e.state.fieldErrors;o[a]=n,s[a]=r,e.setState({fields:o,fieldErrors:s})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement("div",{className:"AccountContainer"},r.a.createElement("div",{className:"AvatarColumnContainer"},r.a.createElement("img",{className:"AvatarAccount",src:this.state.user.avatarUrl||g.a})),r.a.createElement("div",{className:"UserInfoColumn"},r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"Email: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.email,name:"email",onChange:this.onInputChange,type:"email"})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("email")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"First Name: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.firstName,name:"firstName",onChange:this.onInputChange})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("firstName")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"Last Name: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.lastName,name:"lastName",onChange:this.onInputChange})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("lastName")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"Birth Date: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.date,name:"date",onChange:this.onInputChange,type:"date"})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("birthDate")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"Avatar URL: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.avatarUrl,name:"avatarUrl",onChange:this.onInputChange})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("avatarUrl")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"JS Experience: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.jsExperience,name:"jsExperience",onChange:this.onInputChange,type:"number"})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("jsExperience")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"React Experience: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.reactExperience,name:"reactExpereince",onChange:this.onInputChange,type:"number"})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("reactExperience")}},"Change"))),r.a.createElement("div",{className:"UserInfoContainer"},r.a.createElement("span",{className:"UserInfoLabel"},"Company ID: "),r.a.createElement("div",{className:"UserInfoBtnContainer"},r.a.createElement("div",{className:"UserInputContainer"},r.a.createElement(U,{value:this.state.fields.companyId,name:"companyId",onChange:this.onInputChange,type:"number"})),r.a.createElement("button",{className:"UserInfoChangeBtn",onClick:function(){return e.submitChanges("companyId")}},"Change"))))))}}]),a}(r.a.Component),H=Object(i.b)(null,(function(e){return{updateAccount:function(t,a){return e(function(e,t){return function(a){var n=JSON.stringify(t);console.log(n),fetch(e,{headers:{"Content-Type":"application/json",token:localStorage.getItem("userToken")},method:"PUT",body:n}).then((function(){return a(function(e){return{type:"UPDATE_ACCOUNT",data:e}}(t))}))}}(t,a))}}}))(R),J="".concat(N,"topics"),F=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={topic:""},e.addTopic=function(){var t=JSON.stringify({title:e.state.topic});e.setState({topic:""}),fetch(J,{headers:{token:localStorage.getItem("userToken"),"Content-Type":"application/json"},method:"POST",body:t}).then((function(){return e.props.fetchTopics(J)}))},e.onTopicChange=function(t){e.setState({topic:t.target.value})},e.onLike=function(t,a,n){var r=t.target;"LikeButton"===r.className?(r.className+=" BlueLikeBackground",r.innerText="Liked",e.props.likeTopic(a,n,"like")):(r.className="LikeButton",r.innerText="Like",e.props.likeTopic(a,n,"unlike"))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchTopics(J)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"TopicsContainer"},r.a.createElement("div",{className:"TopicInputContainer"},r.a.createElement("input",{className:"TopicInput",onChange:function(t){return e.onTopicChange(t)},value:this.state.topic}),r.a.createElement("button",{className:"TopicAddButton",onClick:this.addTopic},"Add Topic")),r.a.createElement("div",{className:"TopicsListContainer"},this.props.topics.map((function(t,a){return r.a.createElement("div",{key:a,className:"TopicContainer"},r.a.createElement("div",{className:"TopicTitleContainer"},r.a.createElement("span",null,t.title)),r.a.createElement("div",{className:"TopicsButtonsContainer"},r.a.createElement("button",{onClick:function(a){return e.onLike(a,J,t.id)},className:t.votedByMe?"LikeButton BlueLikeBackground":"LikeButton"},t.votedByMe?"Liked":"Like"),r.a.createElement("button",{onClick:function(){return e.props.deleteTopic(J,e.props.topics,t.id)},disabled:!t.canDelete,className:"DeleteButton"},"Delete")))})))))}}]),a}(r.a.Component),G=Object(i.b)((function(e){return{topics:e.topics}}),(function(e){return{fetchTopics:function(t){return e(function(e){return function(t){fetch(e,{headers:{token:localStorage.getItem("userToken")}}).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){return t({type:"TOPICS_FETCH_DATA_SUCCESS",topics:e})}))}}(t))},deleteTopic:function(t,a,n){return e(function(e,t,a){return function(n){fetch("".concat(e,"/").concat(a),{headers:{token:localStorage.getItem("userToken")},method:"DELETE"}),n(function(e,t){return{type:"TOPIC_DELETE",topics:e,id:t}}(t,a))}}(t,a,n))},likeTopic:function(t,a,n){return e(function(e,t,a){return function(n){var r=JSON.stringify({type:a});console.log(r),fetch("".concat(e,"/").concat(t,"/voting"),{headers:{"Content-Type":"application/json",token:localStorage.getItem("userToken")},method:"POST",body:r}),n(function(e){return{type:"LIKE_TOPIC",text:e}}(a))}}(t,a,n))}}}))(F),q="".concat(N,"projects"),V=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).upvote=function(t,a,n){var r=t.target;"Upvote"===r.className?(r.className="UpvoteChecked",e.props.voteProject(a,n,"like")):(r.className="Upvote",e.props.voteProject(a,n,"unlike")),e.forceUpdate()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchProjects(q)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"ProjectsContainer"},this.props.projects.map((function(t,a){return r.a.createElement("div",{key:a,className:"ProjectContainer"},r.a.createElement("div",{className:"ProjectInfoContainer"},r.a.createElement("div",{className:"ProjectTitleContainer"},r.a.createElement("span",{className:"ProjectTitle"},t.title)),r.a.createElement("div",{className:"ProjectDescriptionContainer"},r.a.createElement("span",{className:"ProjectDescription"},t.description))),r.a.createElement("div",{className:"ProjectUpvoteContainer"},r.a.createElement("div",{className:"UpvoteContainer"},r.a.createElement("div",{onClick:function(a){return e.upvote(a,q,t.id)},className:t.votedByMe?"UpvoteChecked":"Upvote"})),r.a.createElement("div",{className:"UpvoteCountContainer"},r.a.createElement("span",{className:"UpvoteCount"},t.votingsCount))))}))))}}]),a}(r.a.Component),W=Object(i.b)((function(e){return{projects:e.projects}}),(function(e){return{fetchProjects:function(t){return e(b(t))},voteProject:function(t,a,n){return e(function(e,t,a){return function(n){var r=JSON.stringify({type:a});fetch("".concat(e,"/").concat(t,"/voting"),{headers:{"Content-Type":"application/json",token:localStorage.getItem("userToken")},method:"POST",body:r}).then((function(){return n(function(e){return{type:"VOTE_PROJECT",text:e}}(a))})).then((function(){return n(b(e))}))}}(t,a,n))}}}))(V),K=a(33),z=function(e){var t=e.component,a=Object(K.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return localStorage.getItem("userToken")?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:"/login"}})}}))},Q=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchCompanies("".concat(N,"companies"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v.d,null,r.a.createElement(z,{exact:!0,path:"/",component:function(){return r.a.createElement(T,null)}}),r.a.createElement(v.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(v.b,{exact:!0,path:"/registration",render:function(e){return r.a.createElement(D,e)}}),r.a.createElement(z,{exact:!0,path:"/account",component:function(){return r.a.createElement(H,null)}}),r.a.createElement(z,{exact:!0,path:"/topics",component:function(){return r.a.createElement(G,null)}}),r.a.createElement(z,{exact:!0,path:"/projects",component:function(){return r.a.createElement(W,null)}}),r.a.createElement(v.b,{render:function(){return r.a.createElement("h1",null,"Sorry, the page is not found :(")}})))}}]),a}(r.a.Component),X=Object(i.b)((function(e){return{companies:e.companies,hasError:e.dataHaveError,isLoading:e.dataIsLoading}}),(function(e){return{fetchCompanies:function(t){return e(function(e){return function(t){t(C(!0)),fetch(e).then((function(e){if(200!==e.status)throw Error(e.statusText);return t(C(!1)),e})).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"COMPANIES_FETCH_DATA_SUCCESS",companies:e}}(e))})).catch((function(){return t({type:"DATA_HAVE_ERROR",hasError:!0})}))}}(t))}}}))(Q);var Y=Object(l.combineReducers)({companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANIES_FETCH_DATA_SUCCESS":return localStorage.setItem("companies",JSON.stringify(t.companies)),t.companies;default:return e}},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOPICS_FETCH_DATA_SUCCESS":return t.topics;case"TOPIC_DELETE":return t.topics.filter((function(e){return e.id!==t.id}));default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_SUCCESS":return localStorage.setItem("userToken",t.user.token),localStorage.setItem("user",JSON.stringify(t.user)),t.user;case"USER_LOGOUT":return localStorage.removeItem("userToken"),localStorage.removeItem("user"),{};default:return e}},likeTopic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_TOPIC":return t.text;default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECTS_FETCH_DATA_SUCCESS":return t.projects;default:return e}},voteProject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VOTE_PROJECT":return t.text;default:return e}},updateAccount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ACCOUNT":return t.data;default:return e}},dataHaveError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_HAVE_ERROR":return t.hasError;default:return e}},dataIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_IS_LOADING":return t.isLoading;default:return e}}}),Z=Object(l.applyMiddleware)(u.a),$=Object(l.createStore)(Y,{},Object(m.composeWithDevTools)(Z));s.a.render(r.a.createElement(c.a,null,r.a.createElement(i.a,{store:$},r.a.createElement(X,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.89cc690b.chunk.js.map